(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-130c4fc7"],{"011b":function(t,e,a){},"4ec3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"employee-manage-container"},[a("el-row",{staticClass:"employee-manage-row"},[a("el-col",{staticClass:"employee-manage-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("新 增")])],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:10}},[a("el-input",{staticStyle:{"max-width":"240px"},attrs:{placeholder:"请输入名称",size:"small"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"text",size:"small"},on:{click:t.search},slot:"suffix"},[a("i",{staticClass:"el-icon-search"})])],1)],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.empList,stripe:""}},[a("el-table-column",{attrs:{prop:"username",label:"登录账号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"real_name",label:"姓名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"权限组",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"intro",label:"简单说明",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},on:{change:function(a){return t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.eidt(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.del(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"shanchu"}})],1)]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.disAdd,width:"30%",title:t.isAdd?"新增":"修改"},on:{"update:visible":function(e){t.disAdd=e}}},[t.disAdd?a("add",{attrs:{isAdd:t.isAdd,addData:t.empData},on:{success:function(e){t.disAdd=!1,t.getKeList()}}}):t._e()],1)],1)},n=[],r=a("ef75"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"addform",attrs:{model:t.addData,rules:t.rules,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"登录账号"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.username,callback:function(e){t.$set(t.addData,"username",e)},expression:"addData.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.real_name,callback:function(e){t.$set(t.addData,"real_name",e)},expression:"addData.real_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{"show-password":"",placeholder:"请输入"},model:{value:t.addData.password,callback:function(e){t.$set(t.addData,"password",e)},expression:"addData.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"简单说明"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入"},model:{value:t.addData.intro,callback:function(e){t.$set(t.addData,"intro",e)},expression:"addData.intro"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("提 交")])],1)],1)},c=[],u={props:{addData:{type:Object,required:!0},isAdd:{type:Boolean,required:!0}},data:function(){return{rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],real_name:[{required:!0,message:"请输入姓名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submit:function(){var t=this;this.$refs.addform.validate((function(e){if(e)if(t.isAdd)Object(r["h"])(t.addData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("添加成功！")):t.$message.error(e.message)}));else{var a={key:t.$store.state.app.activeApp.saa_key,username:t.addData.username,real_name:t.addData.real_name,password:t.addData.password,intro:t.addData.intro,type:t.addData.type,status:t.addData.status,id:t.addData.id,is_kefu:"1"};Object(r["j"])(a).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("修改成功！")):t.$message.error(e.message)}))}}))}}},l=u,d=a("2877"),o=Object(d["a"])(l,i,c,!1,null,null,null),p=o.exports,m={name:"employee-manage",components:{add:p},data:function(){return{page:1,count:1,empList:[],searchName:"",disAdd:!1,isAdd:!0,empData:{key:this.$store.state.app.activeApp.saa_key,username:"",real_name:"",password:"",intro:"",type:"0",status:"1",is_kefu:"1"}}},mounted:function(){this.getKeList()},methods:{getKeList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10};Object(r["f"])(e).then((function(e){200===e.status?(t.empList=e.data,t.count=parseInt(e.count)):204===e.status?(t.empList=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getKeList()},search:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:1,limit:10,searchName:this.searchName};Object(r["f"])(e).then((function(e){200===e.status?(t.empList=e.data,t.count=parseInt(e.count)):204===e.status?(t.empList=[],t.count=1):t.$message.error(e.message)}))},add:function(){this.empData={key:this.$store.state.app.activeApp.saa_key,username:"",real_name:"",password:"",intro:"",type:"0",status:"1",is_kefu:"1"},this.isAdd=!0,this.disAdd=!0},del:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id};Object(r["a"])(a).then((function(t){200===t.status?(e.getKeList(),e.$message.success("删除成功！")):e.$message.error(t.message)}))},eidt:function(t){var e=this;Object(r["d"])({key:this.$store.state.app.activeApp.saa_key,id:t.id}).then((function(t){200===t.status?(e.empData=t.data,e.empData.password="",e.disAdd=!0,e.isAdd=!1):e.$message.error(t.message)}))},changeStatus:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id,status:t.status};Object(r["j"])(a).then((function(t){200===t.status?e.$message.success("修改成功！"):e.$message.error(t.message)}))}}},h=m,f=(a("de57"),Object(d["a"])(h,s,n,!1,null,"72a83304",null));e["default"]=f.exports},de57:function(t,e,a){"use strict";var s=a("011b"),n=a.n(s);n.a},ef75:function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"d",(function(){return r})),a.d(e,"h",(function(){return i})),a.d(e,"j",(function(){return c})),a.d(e,"a",(function(){return u})),a.d(e,"g",(function(){return l})),a.d(e,"c",(function(){return d})),a.d(e,"k",(function(){return o})),a.d(e,"b",(function(){return p})),a.d(e,"i",(function(){return m})),a.d(e,"f",(function(){return h}));var s=a("b775");function n(t){return Object(s["a"])({url:"/merchantSubUser",method:"get",params:t})}function r(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantSubUser/"+e,method:"get",params:t})}function i(t){return Object(s["a"])({url:"/merchantSubUser",method:"post",data:t})}function c(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantSubUser/"+e,method:"put",data:t})}function u(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantSubUser/"+e,method:"delete",data:t})}function l(t){return Object(s["a"])({url:"/merchantSubGroup",method:"get",params:t})}function d(t){return Object(s["a"])({url:"/merchantNewRules",method:"get",params:t})}function o(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantSubGroup/"+e,method:"put",data:t})}function p(t){var e=t.id;return delete t.id,Object(s["a"])({url:"/merchantSubGroup/"+e,method:"delete",data:t})}function m(t){return Object(s["a"])({url:"/merchantSubGroup",method:"post",data:t})}function h(t){return Object(s["a"])({url:"/merchantSubKefu",method:"get",params:t})}}}]);